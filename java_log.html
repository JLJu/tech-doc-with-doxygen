<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>The Software Practitioner: Java Logging Quick Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">The Software Practitioner
   </div>
   <div id="projectbrief">Practicing to make software perfect.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('java_log.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Java Logging Quick Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Simple Logging Facade for Java (SLF4J) serves as a simple abstraction for various logging frameworks. Let's look at how to configure SLF4J to work with SLF4J Simple logger, JDK 1.4 logger, Log4j, Logback and Log4j2 framework.</p>
<p>Following is a Java code of our logging application <code>LogApp</code>. Note that it uses SLF4J API classes to do the logging. The jar file <code>slf4j-api-1.7.12.jar</code> is the only compile time dependency. </p><div class="fragment"><div class="line"><span class="keyword">import</span> org.slf4j.Logger;</div>
<div class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>LogApp {</div>
<div class="line"></div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(LogApp.class);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> main(String[] args) {</div>
<div class="line">        log.trace(<span class="stringliteral">&quot;Trace message&quot;</span>);</div>
<div class="line">        log.debug(<span class="stringliteral">&quot;Debug message&quot;</span>);</div>
<div class="line">        log.info(<span class="stringliteral">&quot;Info message&quot;</span>);</div>
<div class="line">        log.warn(<span class="stringliteral">&quot;Warning message&quot;</span>);</div>
<div class="line">        log.error(<span class="stringliteral">&quot;Error message&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>You can compile the LogApp code with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;javac -cp slf4j-api-1.7.12.jar LogApp.java</div>
</div><!-- fragment --><p>And run the LogApp with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar LogApp</div>
</div><!-- fragment --><p>The output shows that SLF4J is missing a logger implementation. In the following we'll demonstrate how to plug in different logging backends. The principle is always the same: include the logging framework implementation jars on the classpath, include the respective SLF4J adaptor jar on the classpath and provide a configuration file specific to the logging framework. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;SLF4J: Defaulting to no-operation (NOP) logger implementation</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.</div>
</div><!-- fragment --><h1><a class="anchor" id="java_log_slf4j"></a>
SLF4J Simple logger</h1>
<p>The SLF4J comes with a Simple logger implemenation. Simple logger provides only basic functionality. It read its configuration from a <code>simplelogger.properties</code> file that must be included on the classpath. There's no way to specify a different location of the configuration file.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;org.slf4j.simpleLogger.logFile=System.out</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;org.slf4j.simpleLogger.defaultLogLevel=debug</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;org.slf4j.simpleLogger.showDateTime=true</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;org.slf4j.simpleLogger.dateTimeFormat=HH:mm:ss.SSS</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;org.slf4j.simpleLogger.logFile=/tmp/logger.out</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;org.slf4j.simpleLogger.defaultLogLevel=debug</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;org.slf4j.simpleLogger.showDateTime=true</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;org.slf4j.simpleLogger.dateTimeFormat=HH:mm:ss.SSS</div>
</div><!-- fragment --><p>Run the application with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar:slf4j-simple-1.7.12.jar LogApp</div>
</div><!-- fragment --><h1><a class="anchor" id="java_log_jdk"></a>
JDK 1.4 logger (java.util.logging)</h1>
<p>The java.util.logging package was introduced in JDK 1.4. The default <code>logging.properties</code> configuration file that comes with JRE (<code>jre/lib/logging.properties</code>) specifies a ConsoleHandler that routes logging to System.err. There's no way how to configure the JDK 1.4 logger to log to standard output instead of standard error output unless you do the configuration programmaticaly. You can specify the location of your JDK 1.4 logging configuration file in <code>java.util.logging.config.file</code> Java property.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;handlers=java.util.logging.ConsoleHandler</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;.level=FINE</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;java.util.logging.ConsoleHandler.level=FINE</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;# message pattern works since Java 7</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;java.util.logging.SimpleFormatter.format=%1$tT [%2$s] %4$s - %5$s %6$s%n</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;handlers=java.util.logging.FileHandler</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;.level=FINE</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;java.util.logging.FileHandler.level=FINE</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;java.util.logging.FileHandler.pattern=/tmp/logger.out</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;java.util.logging.FileHandler.append=true</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;# message pattern works since Java 7</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;java.util.logging.SimpleFormatter.format=%1$tT [%2$s] %4$s - %5$s %6$s%n</div>
</div><!-- fragment --><p>Run the application with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar:slf4j-jdk14-1.7.12.jar -Djava.util.logging.config.file=/tmp/jdk14.stderr.properties LogApp</div>
</div><!-- fragment --><h1><a class="anchor" id="java_log_lo4j"></a>
Log4j</h1>
<p>The Log4j doesn't log a single message for you unless you provide it with a proper configuration: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;log4j:WARN No appenders could be found for logger (LogApp).</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;log4j:WARN Please initialize the log4j system properly.</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.</div>
</div><!-- fragment --><p>The following are the sample Log4j configuration files. Note that the <code>log4j.configuration</code> Java property that specifies the location of the configuration file must be a URL. In the example below the <code>/tmp/log4j.stdout.properties</code> location has to be prepended with <code>file:</code> to form a URL.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;log4j.rootLogger=DEBUG, stdout</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;log4j.appender.stdout=org.apache.log4j.ConsoleAppender</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;log4j.appender.stdout.Target=System.out</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;log4j.appender.stdout.layout.ConversionPattern=%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;log4j.rootLogger=DEBUG, file</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;log4j.appender.file=org.apache.log4j.FileAppender</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;log4j.appender.file.File=/tmp/logger.out</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;log4j.appender.file.layout=org.apache.log4j.PatternLayout</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;log4j.appender.file.layout.ConversionPattern=%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n</div>
</div><!-- fragment --><p>Run the application with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar:slf4j-log4j12-1.7.12.jar:log4j-1.2.17.jar -Dlog4j.configuration=file:/tmp/log4j.stdout.properties LogApp</div>
</div><!-- fragment --><h1><a class="anchor" id="java_log_logback"></a>
Logback</h1>
<p>With no configuration provided Logback defaults to printing all log messages on the console standard output. The <code>logback-classic</code> jar package that comes with Logback includes the <code>org.slf4j.impl.StaticLoggerBinder</code> class that serves as an adaptor to SLF4J framework. Therefore no extra SLF4J adaptor jar is needed on the runtime classpath. You can specify the location of your Logback configuration file in the <code>logback.configurationFile</code> Java property.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;configuration&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &lt;Target&gt;System.out&lt;/Target&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &lt;encoder&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      &lt;pattern&gt;%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n&lt;/pattern&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    &lt;/encoder&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  &lt;/appender&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  &lt;root level=&quot;DEBUG&quot;&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    &lt;appender-ref ref=&quot;stdout&quot;/&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  &lt;/root&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;&lt;/configuration&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;configuration&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &lt;File&gt;/tmp/logger.out&lt;/File&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &lt;encoder&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      &lt;pattern&gt;%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n&lt;/pattern&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    &lt;/encoder&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  &lt;/appender&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  &lt;root level=&quot;DEBUG&quot;&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    &lt;appender-ref ref=&quot;file&quot;/&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  &lt;/root&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;&lt;/configuration&gt;</div>
</div><!-- fragment --><p>Run the application with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar:logback-core-1.1.3.jar:logback-classic-1.1.3.jar -Dlogback.configurationFile=/tmp/logback.stdout.xml LogApp</div>
</div><!-- fragment --><h1><a class="anchor" id="java_log_log4j2"></a>
Log4j2</h1>
<p>With no configuration provided Log4j2 informs you that it logs only error messages to stdout. You can provide the location of your Log4j2 configuration file in the <code>log4j.configurationFile</code> Java property.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;22:09:13.052 [main] ERROR LogApp - Error message</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;Configuration&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &lt;Appenders&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n&quot; /&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        &lt;/Console&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    &lt;/Appenders&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    &lt;Loggers&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        &lt;Root level=&quot;debug&quot;&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;            &lt;AppenderRef ref=&quot;console&quot; /&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        &lt;/Root&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    &lt;/Loggers&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;&lt;/Configuration&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;Configuration&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &lt;Appenders&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        &lt;File name=&quot;file&quot; fileName=&quot;/tmp/logger.out&quot; append=&quot;true&quot;&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n&quot;/&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        &lt;/File&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    &lt;/Appenders&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    &lt;Loggers&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        &lt;Root level=&quot;debug&quot;&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;            &lt;AppenderRef ref=&quot;file&quot; /&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        &lt;/Root&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    &lt;/Loggers&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;&lt;/Configuration&gt;</div>
</div><!-- fragment --><p>Run the application with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;java -cp .:slf4j-api-1.7.12.jar:log4j-core-2.2.jar:log4j-api-2.2.jar:log4j-slf4j-impl-2.2.jar -Dlog4j.configurationFile=/tmp/log4j2.stdout.xml LogApp</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jun 14 2015 23:14:41 for The Software Practitioner by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
